Node.js

ğŸ’ IntroducciÃ³nğŸ’ 
................

Â¿QuÃ© es NODEJS?
---------------

Entorno de ejecuciÃ³n de JavaScript orientado a eventos asÃ­ncronos.

Â¿QuÃ© es un ENTORNO DE EJECUCIÃ“N?
--------------------------------

Entorno(infraestructura) en el cual se ejecuta un programa o aplicaciÃ³n.

Â¿QuÃ© es un EVENTO ASÃNCRONO?
----------------------------

Evento que se ejecuta independientemente del proceso principal de la aplicaciÃ³n.

Ej: Obtener informaciÃ³n de una base de datos.

Â¿QuÃ© es un EVENTO SÃNCRONO?
---------------------------

Evento que se ejecuta como parte del proceso principal de la aplicaciÃ³n.

CaracterÃ­sticas de NODEJS
-------------------------

ğŸŸ¢Open-Source(CÃ³digo abierto).
ğŸŸ¢Multiplataforma.
ğŸŸ¢Basado en el motor V8 de Google.

Â¿QuÃ© es el MOTOR V8?
--------------------

Motor de JavaScript desarrollado por el Chromium Project para Google Chrome.

Â¿QuÃ© es un MOTOR DE JAVASCRIPT?
-------------------------------

Software que ejecuta cÃ³digo de JavaScript.

CONCEPTOS BÃSICOS
.................

Arquitectura cliente-servidor
-----------------------------

Modelo en el cual el servidor envÃ­a recursos al dispositivo que lo solicita(cliente).

Desarrollo front-end
--------------------

Es un Ã¡rea del desarrollo web que se encarga del desarrollo de los componentes que ve el usuario y con los cuales interactÃºa.

Desarrollo back-end
-------------------

Es un Ã¡rea del desarrollo web que se encarga del desarrollo de los servidores y bases de datos.

Protocolo
---------

Reglas que permiten que dos entiedades de una red se comuniquen.

Ej: Protocolo HTTP

Base de Datos
-------------

Conjunto de datos estructurados sobre un mismo contexto que se pueden consultar.

PÃ¡gina Web EstÃ¡tica y DinÃ¡mica
------------------------------

EstÃ¡ticas: muestran contenido fijo sin cambios, ideales para informaciÃ³n estÃ¡tica . Ej: Portfolios.
DinÃ¡micas: se generan en tiempo real, adaptÃ¡ndose a la interacciÃ³n del usuario. Ej: tiendas en lÃ­nea o redes sociales.

Conceptos
---------

ğŸŸ¢Arquitectura cliente-servidor
ğŸŸ¢Desarrollo front-end y back-end
ğŸŸ¢Protocolo
ğŸŸ¢Base de Datos
ğŸŸ¢PÃ¡gina Web EstÃ¡tica y DinÃ¡mica

Aplicaciones de Node.js
-----------------------

Node.js es usado para:
âš«Desarrollo back-end
âš«Desarrollar APIs

//API(Application Programming Inferface/Interfaz de ProgramaciÃ³n de Aplicaciones)

Node.js permite desarrollar aplicaciones escalables(Scalable) y de tiempo real(Real-Time).

Escalable
---------

Su rendimiento se puede adaptar a medida que crece el uso de la aplicaciÃ³n y recibe mÃ¡s solicitudes.

AplicaciÃ³n en Tiempo Real
-------------------------

Establece una conexiÃ³n bidireccional y dinÃ¡mica entre el servidor y el cliente. Analiza los eventos que ocurren y reacciona de forma casi inmediata.

Node.js NO es:
ğŸŸ¢Lenguaje de programaciÃ³n
ğŸŸ¢Framework
ğŸŸ¢LibrerÃ­a(Biblioteca)

Node.js es:
Un entorno de ejecuciÃ³n

Node.js ejecuta: JavaScript

ğŸ’ MÃ³dulo en Node.js y el Primer ProgramağŸ’ 
..........................................

Â¿QuÃ© es un MÃ“DULO?
------------------

Funcionalidad organizada en uno o varios archivos JavaScript que puede ser reutilizada en una aplicaciÃ³n.

VENTAJAS
--------

ğŸŸ¢Evitar repeticiÃ³n del cÃ³digo.
ğŸŸ¢Reutilizar el cÃ³digo.
ğŸŸ¢Es mÃ¡s fÃ¡cil encontrar y corregir "bugs".
ğŸŸ¢Es mÃ¡s fÃ¡cil modificar el cÃ³digo.
ğŸŸ¢Es mÃ¡s fÃ¡cil agregar nueva funcionalidad.

Importar(un mÃ³dulo)
-------------------

Darle acceso a funciones y elementos definidos en otro mÃ³dulo.

Nota: Para importar un elemento a un mÃ³dulo debemos exportarlo desde otro mÃ³dulo.

MÃ³dulos Principales de Node.js
..............................

MÃ³dulos Built-in
----------------

Â¿QuÃ© es un MÃ“DULO BUILT-IN(INCORPORADOS)?
-----------------------------------------

MÃ³dulos que puedes usar directamente al trabajo con Node.js(sin instalarlos). Muy Ãºtiles para realizar tareas comunes al trabajar con Node.js. Algunos son:
ğŸŸ¢http
ğŸŸ¢https
ğŸŸ¢fs(file system)
ğŸŸ¢os(operating system)
ğŸŸ¢path

MUCHOS MÃS...

MÃ³dulo Console
--------------

Â¿QuÃ© es CONSOLE?
----------------

MÃ³dulo built-in que implementa funcionalidad similar a la consola de un navegador web.

MÃ©todos Ãštiles
--------------

ğŸŸ¢console.log()
ğŸŸ¢console.warn()
ğŸŸ¢console.error()
ğŸŸ¢console.assert()
ğŸŸ¢console.table()

MÃ³dulo Process
--------------

Â¿QuÃ© es MÃ“DULO PROCESS?
-----------------------

Provee imformaciÃ³n sobre el proceso de Node.js que se estÃ¡ ejecutando. TambiÃ©n puede tener cierto control sobre el proceso.

MÃ³dulo OS(Operating System/OperaciÃ³n del Sistema)
-------------------------------------------------

Contiene funcionalidad para obtener informaciÃ³n sobre el sistema operativo en el cual se ejecuta la aplicaciÃ³n.

MÃ³dulo Timers
-------------

Timer: Temporizador

Contiene funciones que ejecutan cÃ³digo luego de un cierto periodo de tiempo.

Funciones Ãštiles
----------------

ğŸŸ¢setTimeout()
ğŸŸ¢setImmediate()
ğŸŸ¢setInterval()

setTimeout()
------------

Es una funciÃ³n para ejecutar cÃ³digo luego de un nÃºmero especÃ­fico de milisegundos(1 segundo = 1000 milisegundos).
Ej: setTimeout(funcion, retraso, argumento);
Ej2: setTimeout(funcion, retraso, argumento1, argumento2);

Higher-Order-Programming(ProgramaciÃ³n de Orden Superior)
--------------------------------------------------------

Es un estilo de programaciÃ³n informÃ¡tica que utiliza componentes de software, como funciones, mÃ³dulos u objetos, como valores.

setImmediate()
--------------

Es una funciÃ³n para ejecutar cÃ³digo asÃ­ncrono en la prÃ³xima iteraciÃ³n del ciclo de eventos(lo mÃ¡s pronto posible).
Ej: setImmediate(funcion, argumento1, argumento2);

Nota1ğŸ—’ï¸: Se ejecuta despuÃ©s del cÃ³digo sÃ­ncrono.
Nota2ğŸ—’ï¸: Se ejecuta lo mÃ¡s rÃ¡pido posible de forma asÃ­ncrona.

setInterval()
-------------

Es una funciÃ³n para ejecutar cÃ³digo un infinito de veces con un retraso especÃ­fico de milisegundos.
Ej: setInterval(funcion, intervalo, arg1, arg2);

MÃ³dulo fs(File System/Sistema de Archivos)
------------------------------------------

MÃ³dulo que contiene funcionalidad muy Ãºtil para trabajar con el sistema de archivos. 

Operaciones Ãštiles
------------------

ğŸŸ¢Leer                     |
ğŸŸ¢Modificar                |			
ğŸŸ¢Copiar                   | Archivo
ğŸŸ¢Eliminar                 |
ğŸŸ¢Cambiar nombre           |

NotağŸ—’ï¸: Todos los mÃ©todos de este mÃ³dulo son asÃ­ncronos por defecto. Pero puedes escoger versiones sÃ­ncronas de estos mÃ©todos, agregando Sync(Synchronous) a sus nombres.

Diferencias entre AsÃ­ncrono y SÃ­ncrono del MÃ³dulo fs
----------------------------------------------------

âš« fs.rename() //AsÃ­ncrono
âš« fs.renameSync() //SÃ­ncrono

Archivo de pruebağŸ“:

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.js</title>
</head>

<body>
    <h1>freeCodeCamp</h1>
    <p>Estoy aprendiendo Node.js</p>
</body>

</html><!--<p>Hola</p>-->

<!--Nueva etiquta-->
<p>Hola</p>

ğŸ’ npm y el formato JSONğŸ’ 
.........................

IntroducciÃ³n a npm
------------------

Â¿QuÃ© es npm?
------------

Es el archivo de software mÃ¡s grande del mundo que contiene paquetes que puedes instalar y usar con Node.js.

NotağŸ—’ï¸: TambiÃ©n es una herramienta para la lÃ­nea de comandos.

Â¿QuÃ© es un Paquete?
-------------------

Archivo o directorio descrito por un archivo packege.json. Puede ser publicado en el registro de npm.

Â¿QuÃ© es MÃ³dulo?
---------------

Es cualquier archivo o directorio en el directorio node_modules que puede ser importado con require().

Nota1ğŸ—’ï¸: Para poder incluir un mÃ³dulo con require(), debe ser un archivo JS. Una carpeta con un archivo package.json que contiene un propiedad "main".
Nota2ğŸ—’ï¸: Solo los mÃ³dulos que tienen un archivo package.json son paquetes.

Â¿QuÃ© es una Dependencia?

Es un paquete que otro paquete necesita para que pueda funcionar correctamente.

Crear paquete con npm con init(initialize)
------------------------------------------

âœ–ï¸comandosâœ–ï¸: 
  âš«npm init: Creas y configuras tu package.json.
  âš«npm init --yes: Creas directamente tu package.json por defecto.

IntroducciÃ³n al formato JSON(JavaSript Object Notation)
-------------------------------------------------------

Â¿QuÃ© es JSON?
-------------

Es un formato de texto usado para almacenar y transportar informaciÃ³n.

Nota1ğŸ—’ï¸: JSON estÃ¡ basado en la notaciÃ³n de objetos de JavaScript pero es solo texto.
Nota2ğŸ—’ï¸: Nos permite almacenar objetos de JavaScript como texto.
Nota3ğŸ—’ï¸: Es independiente del lenguaje de programaciÃ³n con el cual estÃ¡s trabajando.


CaracterÃ­sticas del Formato JSON
--------------------------------

ğŸŸ¢Los datos se representan como pares clave-valor(propiedades).

{
  "titulo": "Aprende Node.js",
  "numVistas": 45642,
  "numLikes": 21123,
  "temas": [
    "JavaScript",
    "Node.js"
  ],
  "esPublico": true
}

ğŸŸ¢EstÃ¡n rodeados por dos llaves principales {}.

NotağŸ—’ï¸: TambiÃ©n puede estar rodeado por [], si es un arreglo JSON.

ğŸŸ¢Los pares deben estar separados por un coma ,.

ğŸŸ¢Puede contener:
  ğŸŸ¢Cadenas de caracteres.
  ğŸŸ¢NÃºmeros.
  ğŸŸ¢Arreglos(arrays).
  ğŸŸ¢Valores Booleanos(true/false).
  ğŸŸ¢Objetos.

âœ–ï¸SÃ­ntaxisâœ–ï¸
  âš«JSON.parse(): Convierte una cadena de texto JSON en un objeto JavaScript.
  âš«JSON.stringify: Convierte un objeto JavaScript en una cadena de texto JSON.
  
  NotağŸ—’ï¸: Esto es Ãºtil para serializar datos y enviarlos a travÃ©s de una red o almacenarlos en un archivo.

Instalar y Desinstalar Paquetes con npm
---------------------------------------

âœ–ï¸comandosâœ–ï¸: 
 âš«npm install express : Instala los mÃ³dulos de express en tu carpeta.
 âš«npm uninstall express : Desinstala los mÃ³dulos de express en tu carpeta.

NotağŸ—’ï¸: Para instalar dependencias: npm install(todas las dependencias)

Instalar cualquier versiÃ³n de express
-------------------------------------
 
 Para instalar una versiÃ³n especÃ­fica de Express, debemos usar la sintaxis npm install express@4.15.1, donde @4.15.1 indica la versiÃ³n que deseamos instalar.
Ej: npm install express@4.15.1

NotağŸ—’ï¸: Esto asegura que npm instale la versiÃ³n exacta especificada del paquete.

devDependencies en el package.json
----------------------------------

Para agregar una dependencia como una dependencia de desarrollo en el archivo package.json, usamos el comando:

âœ–ï¸comandoâœ–ï¸: npm install express --save-dev

Nota1ğŸ—’ï¸: Este comando instalarÃ¡ la dependencia 'express' y la guardarÃ¡ en la secciÃ³n 'devDependencies' del archivo package.json. 
Nota2ğŸ—’ï¸: Estas dependencias son necesarias para el desarrollo del proyecto, pero no son necesarias para su funcionamiento en producciÃ³n.

package-lock.json
-----------------

Se genera automÃ¡ticamente cuando npm modifica el Ã¡rbol de node_modules o package.json.

Nota1ğŸ—’ï¸: Describe el Ã¡rbol generado para que futuras instalaciones puedan generar exactamente el mismo Ã¡rbol.
Nota2ğŸ—’ï¸: Otros desarrolladores pueden instalar exactamente las mismas dependencias.

ğŸŸ¢nameğŸŸ¢
--------

El nombre del paquete. Es el mismo nombre que incluimos en package.json.

ğŸŸ¢versionğŸŸ¢
-----------

La version del paquete. Es la misma versiÃ³n que incluimos en package.json.

ğŸŸ¢lockfileVersionğŸŸ¢
-------------------

Describe la versiÃ³n del archivo package-lock.json.

ğŸŸ¢requireğŸŸ¢
-----------

Es una funciÃ³n que se puede usar para importar sÃ­mbolos desde otro mÃ³dulo al Ã¡mbito actual.

ğŸŸ¢packagesğŸŸ¢
------------

Es un objeto que asocia la ubicaciÃ³n de cada paquete con un objeto que contiene informaciÃ³n sobre ese paquete.


ğŸ’ Eventos en Node.js y JavaScript AsÃ­ncronoğŸ’ 
.............................................

Â¿QuÃ© es un EVENTO?
------------------

Es una acciÃ³n que se realiza en la aplicaciÃ³n.

NotağŸ—’ï¸: TambiÃ©n podemos definir eventos que se desencadenen y ejecuten internamente en el servidor.

Â¿QuÃ© son los Emitters(Emisores)?
--------------------------------

Son objetos que emiten eventos nombrados y llaman a funciones especÃ­ficas cuando ocurren.

Nota1ğŸ—’ï¸: Los emitters son instancias de la clase EventEmitter.
Nota2ğŸ—’ï¸: Tienen un mÃ©todo .on() para asociar una funciÃ³n al evento. Esa funciÃ³n se ejecuta cuando ocurre el evento y se denomina "Event Handler"(Maneja el evento).

MÃ³dulo Events
-------------

El mÃ³dulo events nos permite:
ğŸŸ¢Definir.
ğŸŸ¢Emitir.
ğŸŸ¢Escuchar.

Promesas en JavaScript
----------------------

Â¿QuÃ© es una PROMESA(PROMISE)?
-----------------------------

Se define como un objeto que representa el eventual resultado(O error) de una operaciÃ³n asÃ­ncrona.

Nota1ğŸ—’ï¸: Una promesa es un objeto de JavaScript.
Nota2ğŸ—’ï¸: Ese objeto se asocia a una callback function(FunciÃ³n callback).

Â¿Es una FUNCIÃ“N CALLBACK(CALLBACK FUNCTION)?
--------------------------------------------

Es una funciÃ³n que se pasa a otra funciÃ³n como argumento y luego se ejecuta dentro de la funciÃ³n externa.

NotağŸ—’ï¸: Las promesas tienen un mÃ©todo .then(), con el cual podemos decidir quÃ© occure cuando se completa la promesa(Ã‰xito o error).

MÃ©todo .catch()
---------------

Â¿QuÃ© es mÃ©todo .catch()?
------------------------

Es un mÃ©todo de promesa que solo se ejecuta si la promesa es rechazada.

ComparaciÃ³n de CÃ³digo entre .then() y .catch()
----------------------------------------------

miPedidoDePizza
 .then(null, (mensajeDeError) => {
   console.log(mensajeDeError);
 });

 .catch((mensajeDeError) => {
   console.log(mensajeDeError);
 });

NotağŸ—’ï¸: Cuando unimos dos mÃ©todos se determina "Method Chaining(Encadenamiento de MÃ©todos)".

Encadenar Promesas y async await
--------------------------------

Â¿QuÃ© es async(asynchronous/AsÃ­ncrono)?
-------------------------

`async` es una palabra clave en JavaScript que se utiliza para declarar una funciÃ³n como asÃ­ncrona.

NotağŸ—’ï¸: Permite que la funciÃ³n retorne una promesa automÃ¡ticamente.

Â¿QuÃ© es await(Esperar)?
-----------------------

await es una palabra clave en JavaScript que se utiliza dentro de funciones async para esperar a que una promesa se resuelva y devolver su resultado.

Nota1ğŸ—’ï¸: Hace que el cÃ³digo asÃ­ncrono se comporte de manera sÃ­ncrona.
Nota2ğŸ—’ï¸: Cuando unimos dos promesas se determina "Chaining Promises(Encadenamiento de Promesas)".

Ej:

// async y await
// -------------
// async sin el await
// ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥

function ordernarProducto(producto) {
  return new Promise((resolve, reject) => {
    console.log(`Ordenando: ${producto} de freeCodeCamp.`);
    setTimeout(() => {
      if (producto === "taza") {
        resolve("Ordenando una taza con el logo de freeCodeCamp...");
      } else {
        reject("Este producto no estÃ¡ disponible actualmente.");
      }
    }, 2000);
  });
}

function procesarPedido(respuesta) {
  return new Promise((resolve) => {
    console.log("Procesando respuesta...");
    console.log(`La respuesta fue: "${respuesta}"`);
    setTimeout(() => {
      resolve("Gracias por tu compra. Disfruta tu producto de freeCodeCamp.");
    }, 4000);
  });
}

//ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥

async function realizarPedido(producto) {
  try {
    const respuesta = ordernarProducto(producto);
    console.log("Respuesta recibida");
    const respuestaProcesada = procesarPedido(respuesta);
    console.log(respuestaProcesada);
  } catch (err) {
    console.error(err);
  }
}

realizarPedido("taza"); 

//async con el await
//ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©

function ordernarProducto(producto) {
  return new Promise((resolve, reject) => {
    console.log(`Ordenando: ${producto} de freeCodeCamp.`);
    setTimeout(() => {
      if (producto === "taza") {
        resolve("Ordenando una taza con el logo de freeCodeCamp...");
      } else {
        reject("Este producto no estÃ¡ disponible actualmente.");
      }
    }, 2000);
  });
}

function procesarPedido(respuesta) {
  return new Promise((resolve) => {
    console.log("Procesando respuesta...");
    console.log(`La respuesta fue: "${respuesta}"`);
    setTimeout(() => {
      resolve("Gracias por tu compra. Disfruta tu producto de freeCodeCamp.");
    }, 4000);
  });
}

//ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©

async function realizarPedido(producto) {
  try {
    const respuesta = await ordernarProducto(producto);
    console.log("Respuesta recibida");
    console.log(respuesta);
    const respuestaProcesada = await procesarPedido(respuesta);
    console.log(respuestaProcesada);
  } catch (err) {
    console.error(err);
  }
}

realizarPedido("taza"); 

try y catch
-----------

Â¿QuÃ© es try(Intentar) y catch(Atrapar)?
---------------------------------------

try y catch son bloques de cÃ³digo en JavaScript que se utilizan para manejar errores de manera controlada.

âš«try: Este bloque contiene el cÃ³digo que se desea ejecutar y que podrÃ­a lanzar una excepciÃ³n. Se utiliza para envolver el cÃ³digo que podrÃ­a generar un error.
âš«catch: Este bloque se ejecuta si se produce una excepciÃ³n dentro del bloque try. Se utiliza para manejar el error y proporcionar una respuesta o soluciÃ³n al problema que ocurriÃ³ dentro del bloque try.

Ej:

async function realizarPedido(producto) {
  try {
    const respuesta = await ordernarProducto(producto);
    console.log("Respuesta recibida");
    console.log(respuesta);
    const respuestaProcesada = await procesarPedido(respuesta);
    console.log(respuestaProcesada);
  } catch (err) {
    console.error(err);
  }
}

realizarPedido("taza"); // Entra al bloque try
realizarPedido("lapiz"); // Entra al bloque catch

ğŸ’ HTTP y rutas en Node.jsğŸ’ 
............................

Modelo Cliente-Servidor
-----------------------

Â¿QuÃ© es el Modelo Cliente-Servidor?
-----------------------------------

Es un modelo que usamos para acceder a internet y obtener recursos e informaciÃ³n.

Â¿QuÃ© es un CLIENTE?
-------------------

Es el navegador desde el cual se realizan solicitudes a un servidor.

Â¿QuÃ© es un SERVIDOR?

Es el programa que se ejecuta en un servidor fÃ­sco para ofrecer un servicio al cliente. EnvÃ­a informaciÃ³n.

Nota1ğŸ—’ï¸: El servidor conoce el formato esperado del mensaje que envÃ­a el cliente.
Nota2ğŸ—’ï¸: El protocolo HTTP define el formato de los mensajes.

Â¿QuÃ© es un PROTOCOLO?
---------------------

Es un conjunto de reglas que permiten transmitir informaciÃ³n entre los dispositivos de una red.

Â¿QuÃ© es HTTP(HyperText Transfer Protocol/Protocolo de Transferencia de HiperTexto)?
-----------------------------------------------------------------------------------

Es el protocolo de comunicaciÃ³n utilizado en la World Wide Web para la transferencia de datos entre clientes y servidores web.

Solicitudes HTTP(request)
-------------------------

Se dividen en las siguientes solicitudes:
ğŸŸ¢MÃ©todos HTTP.
ğŸŸ¢Camino(path).
ğŸŸ¢VersiÃ³n de HTTP.
ğŸŸ¢Cabeceras(headers): Proveen informaciÃ³n adicional sobre la solicitud.
ğŸŸ¢Cuerpo(body): Contiene la informaciÃ³n que debe ser enviada al servidor para procesar la solicitud.

NotağŸ—’ï¸: No se incluye en todas las solicitudes. Solo en aquellas que requieran enviar informaciÃ³n. Por ejemplo: POST, PUT.

MÃ©todos HTTP
------------

Â¿QuÃ© es un MÃ©todo HTTP?
-----------------------

Es un verbo o sustantivo que indica la intenciÃ³n de la solicitud.

NotağŸ—’ï¸: Aunque tambiÃ©n pueden ser sustantivos, frecuentemente se les denomina como "Verbos HTTP".

LISTA DE SOLICITUDES:
ğŸŸ¢GET: Verbo para solicitar un recurso especÃ­fico. Ej: Un archivo HTML, CSS o una imagen.
ğŸŸ¢POST: Verbo para crear un recurso especÃ­fico. Ej: Agregar un usuario nuevo a una base de datos.
ğŸŸ¢PUT: Verbo para modificar un recurso especÃ­fico. Ej: Hacer un cambio en la base de datos.
ğŸŸ¢DELETE: Verbo para eliminar un recurso especÃ­fico. Ej: Eliminar un usuario de una base de datos.
ğŸŸ¢Otros...

Respuestas HTTP(response/Respuesta)
-----------------------------------

Se dividen en las siguientes respuestas:
ğŸŸ¢CÃ³digo de estado
ğŸŸ¢Texto de estado
ğŸŸ¢VersiÃ³n de HTTP
ğŸŸ¢Cabeceras(headers): Son opcionales y proveen informaciÃ³n adicional sobre la respuesta.
ğŸŸ¢Cuerpo(body): Contiene la informaciÃ³n que debe ser enviada desde el servidor hacia el cliente.


CÃ³didos de Estado HTTP
----------------------

Â¿QuÃ© es un CÃ³digo de Estado HTTP?
---------------------------------

Es un nÃºmero que indican si se ha completado exitosamente(O no) la solicitud HTTP. Las respuestas se agrupan en cinco clases:
âš«Respuestas informativas(100-199).
âš«Respuestas satisfactorias(200-299).
âš«Redirecciones(300-399).
âš«Errores de los clientes(400-499).
âš«Errores de los servidores(500-599).

NotağŸ—’ï¸: Con Node.js y Express podemos especificar el cÃ³digo de estado de la respuesta HTTP en nuestro servidor.

Contenidos de Datos MÃ¡s Comunes
-------------------------------

ğŸŸ¢200 OK - La respuesta fue exitosa.
ğŸŸ¢400 Bad Request - El servidor no pudo interpretar la solicitud.
ğŸŸ¢404 Not Found - El servidor no pudo encontrar el recurso solicitado.
ğŸŸ¢500 Internal Server Error - El servidor encontrÃ³ una situaciÃ³n que no sabe cÃ³mo manejar.

MÃ³dulo HTTP
-----------

Â¿QuÃ© es un MÃ³dulo HTTP?
-----------------------

Este mÃ³dulo le permite a Node.js transmitir informaciÃ³n con el protocolo HTTP.

Â¿QuÃ© es un PUERTO?
------------------

UbicaciÃ³n virtual del sistema operativo en la cual se puede acceder a una aplicaciÃ³n o a un proceso especÃ­fico que se estÃ© ejecutando en ese puerto.

Ej:

const http = require("http");

const servidor = http.createServer((req, res) => {
  // Proceso
  console.log("Solicitud nueva");
  res.end("Hola, mundo");
});

const PUERTO = 3000;

servidor.listen(PUERTO, () => {
  console.log(
    `El servidor esta escuchando en el puerto http://localhost:${PUERTO}...`
  );
});

req y res
---------

req y res son objetos utilizados en aplicaciones web con Node.js y Express, donde req representa la solicitud del cliente al servidor y res representa la respuesta del servidor al cliente.

Ej: 

const servidor = http.createServer((req, res) => { // Crea un servidor HTTP y define una funciÃ³n de callback que se ejecutarÃ¡ cada vez que se reciba una solicitud.
  console.log("==> req (solicitud)");
  console.log(req); // Imprime el objeto de solicitud (req), que contiene informaciÃ³n sobre la solicitud del cliente.
  console.log(req.url); // Imprime la URL solicitada por el cliente.
  console.log(req.method); // Imprime el mÃ©todo HTTP utilizado en la solicitud (GET, POST, etc.).
  console.log(req.headers); // Imprime los encabezados de la solicitud HTTP enviados por el cliente.
  console.log(res); // Imprime el objeto de respuesta (res), que se utilizarÃ¡ para enviar una respuesta al cliente.
  console.log(res.statusCode); // 200 OK // Imprime el cÃ³digo de estado de la respuesta actual (por defecto es 200 OK).
  res.statusCode = 404; // Establece el cÃ³digo de estado de la respuesta a 404 (Not Found).
  console.log(res.statusCode); // 404 Not Found // Imprime el nuevo cÃ³digo de estado de la respuesta.
  res.setHeader("content-type", "application/json"); // Establece el encabezado "content-type" de la respuesta a "application/json".
  console.log(res.getHeaders()); // Imprime los encabezados de la respuesta actual.
  res.end("Hola, mundo :)"); // EnvÃ­a una respuesta al cliente con el contenido "Hola, mundo :)" y finaliza la conexiÃ³n.
});


Estructura de una URL
---------------------

Â¿QuÃ© es una URL(Uniform Resource Locator/Localizador Uniforme de Recursos)?
---------------------------------------------------------------------------

Es una direcciÃ³n de un recurso en la web.

Ej: https://www.freecodecamp.org/espanol/
     |       |       |        |       |
     v       v       v	      v       v
Protocolo Subdominio Dominio Dominio  Camino(Path)
			     de Nivel
			     Superior
			     TLD(Top-Level Domain)

NotağŸ—’ï¸: Otros dominios de nivel superior pueden ser .com, .net, .int, .edu, .gov, entre otros.

Â¿QuÃ© es un SUBDOMINIO?
----------------------

Es la informaciÃ³n adicional agregada al inicio del dominio de una pÃ¡gina web.

NotağŸ—’ï¸: Permite a los sitios web organizar y separar la informaciÃ³n para distintos propÃ³sitos.

Â¿QuÃ© es un DOMINIO?
-------------------

Referencia Ãºnica a un sitio web en internet.

Â¿QuÃ© es un CAMINO(PATH)?
------------------------

Archivo o directorio en el servidor web.

NotağŸ—’ï¸: Puede tener parÃ¡metros para personalizarlo. Estos parÃ¡metros son parte de la URL.

Tipos de ParÃ¡metros
-------------------

https://www.ejemplo.org/usuarios/14
		       ............
		          |										        
			  v
                     ParÃ¡metro de ruta

			   Clave  Valor
                              ^     ^
			      |     |
			      . ..............
https://www.google.com/search?q=cursos+de+node
			      ................
			     	    |
			     	    v
		     	     ParÃ¡metros query

Â¿QuÃ© son los PARÃMETROS QUERY(QUERY STRING)?
--------------------------------------------

Son parÃ¡metros usados para contener contenido dinÃ¡mico. Por ejemplo, filtrar una lista de recursos.

NotağŸ—’ï¸: TambiÃ©n se les conoce como "query string".

Ej: https://www.ejemplo.org/search?categoria=programacion

Varios ParÃ¡metros Query
-----------------------

Clave		Clave    Clase
 ^		 ^        ^
 |		 |        |
 .               .        .
?q=cursos+de+node&sourceid&chrome&ie=UTF-8
  ............... ........ ...............
         |           |          |
         v           v          v
       Valor       Valor       Valor

NotağŸ—’ï¸: Usamos parÃ¡metros query para filtrar solicitudes GET(Para obtener recursos especÃ­ficos).

Declaraciones para la URL
-------------------------

const miURL = new URL(
  "https://www.ejemplo.org/cursos/programacion?ordenar=vistas&nivel=1"
); // Nombre la URL

console.log(miURL.protocol); // https:
console.log(miURL.hostname); // www.ejemplo.org
console.log(miURL.pathname); // cursos/programacion
console.log(miURL.searchParams); // URLSearchParams { 'ordenar' => 'vistas', 'nivel' => '1' }
console.log(typeof miURL.searchParams); // object
console.log(miURL.searchParams.get("ordenar")); // vistas
console.log(miURL.searchParams.get("nivel")); // 1

Routing en Node.js
------------------

Â¿QuÃ© es ROUTING?
----------------

Es un proceso para manejar las solicitudes del cliente en base a ciertos criterios. Estos criterios son:
ğŸŸ¢El mÃ©todo de la solicitud HTTP: De estÃ¡ forma el servidor sabe quÃ© tipo de operaciÃ³n se realizarÃ¡.
ğŸŸ¢El path(Camino) de la solicitud HTTP: De estÃ¡ forma el servidor sabe el recurso especÃ­fico que se usarÃ¡, modificar o eliminar.

Ej: 

//routingServer.js

const http = require("http");
const { infoCursos } = require("./cursos.js");

const servidor = http.createServer((req, res) => {
  const metodo = req.method;

  switch (metodo) {
    case "GET":
      return manejarSolicitudGET(req, res);
    case "POST":
      return manejarSolicitudPOST(req, res);
    default:
      res.statusCode = 501;
      console.log(
        `El mÃ©todo no puede ser manejado por el servidor: ${method}...`
      );
      break;
  }
});

function manejarSolicitudGET(req, res) {
  const camino = req.url;

  console.log(res.statusCode); // 200 OK

  if (camino === "/") {
    res.writeHead(400, { "Content-Type": "application/json" });
    return res.end(
      "Bienvenidos a mi primer servidor y API creados con Node.js"
    );
  } else if (camino === "/cursos") {
    return res.end(JSON.stringify(infoCursos));
  } else if (camino === "/cursos/programacion") {
    return res.end(JSON.stringify(infoCursos.programacion));
  } else if (camino === "/cursos/matematicas") {
    return res.end(JSON.stringify(infoCursos.matematicas));
  } else {
    res.statusCode = 404;
    return res.end("El recurso solicitado no existe...");
  }
}

function manejarSolicitudPOST(req, res) {
  const path = req.url;

  if (path === "/cursos/programacion") {
    let cuerpo = "";
    req.on("data", (contenido) => {
      cuerpo += contenido.toString();
    });
    req.on("end", () => {
      console.log(cuerpo);
      console.log(typeof cuerpo);

      // Convertir a un objeto de JavaScript
      cuerpo = JSON.parse(cuerpo);
      console.log(typeof cuerpo);
      console.log(cuerpo.titulo);
      res.end("El servidor recibido una solicitud POST para /cursos/programacion");
    });
    //return res.end("El servidor recibido una solicitud POST para /cursos/programacion");
  }
}

const PUERTO = 3000;

servidor.listen(PUERTO, () => {
  console.log(`El servidor esta escuchando en el puerto ${PUERTO}...`);
});

//cursos.js

let infoCursos = {
  programacion: [
    {
      id: 1,
      titulo: "Aprende Python",
      lenguaje: "python",
      vistas: 15000,
      nivel: "basico",
    },
    {
      id: 2,
      titulo: "Python intermedio",
      lenguaje: "python",
      vistas: 13553,
      nivel: "intermedio",
    },
    {
      id: 3,
      titulo: "Aprende JavaScript",
      lenguaje: "javascript",
      vistas: 102223,
      nivel: "basico",
    },
  ],
  matematicas: [
    {
      id: 1,
      titulo: "Aprende calculo",
      tema: "calculo",
      vistas: 12427,
      nivel: "basico",
    },
    {
      id: 2,
      titulo: "Aprende Algebra",
      tema: "algebra",
      vistas: 15722,
      nivel: "intermedio",
    },
  ],
};

module.exports.infoCursos = infoCursos;

//index.http
//Cursos

GET http://localhost:3000/ HTTP/1.1

###

PUT http://localhost:3000/ HTTP/1.1

###

POST http://localhost:3000/cursos/programacion HTTP/1.1
Content-Type: application/json

{
  "titulo": "Aprende Node.js"
}

ğŸ’ NodemonğŸ’ 
............

Â¿QuÃ© es Nodemon?
----------------

Es una herramienta que reinicia la aplicaciÃ³n de Node.js cuando detecta algÃºn cambio.

NotağŸ—’ï¸: ServirÃ¡ para que no tengamos que detener la ejecuciÃ³n de la aplicaciÃ³n.

CÃ³mo instalarlo
---------------

Para instalar Nodemon se usa el siguiente comando: npm install -g nodemon
O si quieres, puedes instalarlo como dependencias de desarrollo: npm install --save-dev nodemon // Pero solo en tu proyecto, no en todos.

CÃ³mo ejecutarlo
---------------
Para ejercutar, se usa "nodemon" en lugar npm, pero en command prompt en lugar powershell: nodemon <tu aplicaciÃ³n>

ğŸ’ ExpressğŸ’ 
............

IntroduciÃ³n a Express
---------------------

Â¿QuÃ© es Express?
----------------

Es el framework web mÃ¡s popular de Node.js.

NotağŸ—’ï¸: Nos ayuda a desarrollar aplicaciÃ³n de Node.js

CÃ³mo instalarlo
---------------

En un ruta y dentro de una carpeta creada, escribes el siguiente comando en la terminal: npm install express 

NotağŸ—’ï¸: Se crearÃ¡ una carpeta llamado "node_modules", un archivo package-lock.json y en tu package.json agregado en dependencias.

Ahora, para hacer un proyecto de Node tenga Express, se tienen que poner la siguiente sintaxis:

//testExpress.js

const express = require("express");
const app = express();

CaracterÃ­sticas
---------------
ğŸŸ¢Routing
ğŸŸ¢Enfocado en alto rendimiento
ğŸŸ¢Nos permite desarrollar aplicaciones de Node.js mÃ¡s rÃ¡pidamente con cÃ³digo mÃ¡s conciso.

Conceptos BÃ¡sicos
-----------------

Â¿QuÃ© es CRUD(CREATE READ UPDATE DELETE/CREAR LEER ACTUALIZAR ELIMINAR)?
-----------------------------------------------------------------------

Es una acrÃ³nimo que representa las operaciones bÃ¡sicas que se pueden realizar con la informaciÃ³n almacenada. Ej: DB, archivos, etc.

Nota1ğŸ—’ï¸: Son las operaciones que podemos realizar con una base de datos.
Nota2ğŸ—’ï¸: Su acrÃ³nimo se asocia a la solicitudes HTTP:
ğŸŸ¢Create -> POST
ğŸŸ¢Read -> GET
ğŸŸ¢Update -> PUT
ğŸŸ¢Delete -> DELETE

Â¿QuÃ© es una API(Application Programming Interface/Interfaz de ProgramaciÃ³n de Aplicaciones)?
--------------------------------------------------------------------------------------------

Tipo de interfaz de software que permite que dos o mÃ¡s programas se comuniquen entre sÃ­.

Nota1ğŸ—’ï¸: Permite que un software ofrezca un servicio a otro software.
Nota2ğŸ—’ï¸: No es usada directamente por el usuario sino por el programador que usa la API para implementar su programa.

Â¿QuÃ© es REST(Representation State Transfer)?
--------------------------------------------

Es un estilo de arquitectura de software para sistemas hipermedia distribuidos como la World Wide Web.

Â¿QuÃ© es RESTful API?
--------------------

Es una API basada en REST.

ParÃ¡metros de Rutas y ParÃ¡metros de Query
-----------------------------------------

ğŸŸ¢ParÃ¡metros de Rutas: Son Segmentos de la URL que permiten pasar datos especÃ­ficos al servidor, generalmente utilizados para identificar recursos. Ej:

//testExpress.js

// Rutas
// PÃ¡gina principal
app.get("/", (req, res) => {
  res.send("Mi primer servidor con Express. Cursos ğŸ’».");
});

// API de cursos
app.get("/api/cursos", (req, res) => {
  res.json(infoCursos);
});

// Rutas de ProgramaciÃ³n
app.use("/api/cursos/programacion", routerProgramacion);

// Rutas de MatemÃ¡ticas
app.use("/api/cursos/matematicas", routerMatematicas);


ğŸŸ¢ParÃ¡metros de Query: Datos opcionales adjuntados a una URL que se utilizan para filtrar, ordenar o limitar los resultados de una solicitud HTTP. Ej:

//testExpress.js

// GET lenguaje
routerProgramacion.get("/:lenguaje", (req, res) => {
  const lenguaje = req.params.lenguaje;
  const resultados = programacion.filter(
    (curso) => curso.lenguaje === lenguaje
  );

  if (resultados.length === 0) {
    return res.status(204).send(`No se encontraron cursos de ${lenguaje}.`);
    //return res.status(404).end();
  }
  
  //Query vistas:
  //ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥
  //http://localhost:3000/api/cursos/programacion/python?ordenar=vistas
  if(req.query.ordenar === "vistas") {
    res.send(resultados.sort((a, b) => a.vistas - b.vistas)); // Permite ordenar una lista en base a un criterio.
    //Ascendente(a.vistas - b.vistas)
    //Descendente(b.vistas - a.vistas)
  } else {
    res.send(resultados)
  }
  
  res.send(resultados);
});


NotağŸ—’ï¸: Se pasan como pares clave-valor en la URL despuÃ©s del signo de interrogaciÃ³n.

Â¿QuÃ© son los Routers en Express?
--------------------------------

Son objetos que permiten organizar y modularizar las rutas y lÃ³gica de manejo de solicitudes HTTP en aplicaciones. Ej:

//testExpress.js

// Routers
const routerProgramacion = require("./routers/programacion.js");
const routerMatematicas = require("./routers/matematicas.js");

//programacion.js

const express = require("express");
const { programacion } = require("../datos/cursos").infoCursos;
const routerProgramacion = express.Router();

//...

module.exports = routerProgramacion

//matematicas.js

const express = require("express");
const { matematicas } = require("../datos/cursos").infoCursos;
const routerMatematicas = express.Router();

//cursos.js

let infoCursos = {
  programacion: [
    {
      id: 1,
      titulo: "Aprende Python",
      lenguaje: "python",
      vistas: 15000,
      nivel: "basico",
    },
    {
      id: 2,
      titulo: "Python intermedio",
      lenguaje: "python",
      vistas: 13553,
      nivel: "intermedio",
    },
    {
      id: 3,
      titulo: "Aprende JavaScript",
      lenguaje: "javascript",
      vistas: 102223,
      nivel: "basico",
    },
  ],
  matematicas: [
    {
      id: 1,
      titulo: "Aprende calculo",
      tema: "calculo",
      vistas: 12427,
      nivel: "basico",
    },
    {
      id: 2,
      titulo: "Aprende Algebra",
      tema: "algebra",
      vistas: 15722,
      nivel: "intermedio",
    },
  ],
};

module.exports.infoCursos = infoCursos;


Â¿QuÃ© es Middleware?
-------------------

Es una capa de software que actÃºa como intermediario entre las aplicaciones y el sistema operativo o entre componentes de software.

NotağŸ—’ï¸: Permite realizar operaciones especÃ­ficas antes, durante o despuÃ©s de manejar una solicitud en una aplicaciÃ³n Express.js.

Funciones de Middleware
-----------------------

Las funciones middleware se ejecutan:
ğŸŸ¢DespuÃ©s de recibir una solicitud.
ğŸŸ¢Antes de enviar una respuesta.

NotağŸ—’ï¸: Tienen acceso al objeto de la solicitud, al objeto de la respuesta y a next(), una funciÃ³n que se llama para ejecutar el prÃ³ximo middleware.


Â¿QuÃ© es .next()?
----------------

Es un mÃ©todo utilizado en iteradores para avanzar al siguiente elemento en la secuencia.

Â¿QuÃ© es .fetch()?
-----------------

Es un mÃ©todo de JavaScript utilizado para realizar solicitudes HTTP asÃ­ncronas desde el navegador o Node.js.

NotağŸ—’ï¸: Permite obtener recursos de un servidor web y manejar la respuesta de manera flexible utilizando promesas.

Â¿QuÃ© es .findIndex()?
---------------------

MÃ©todo de los arrays que devuelve el Ã­ndice del primer elemento que cumple una condiciÃ³n.

Â¿QuÃ© es .splice()?
------------------

Es un mÃ©todo de los arrays que cambia el contenido de un array eliminando, reemplazando o agregando elementos.

Â¿QuÃ© es Object.assing()?
------------------------

Es una funciÃ³n que copia los valores de todas las propiedades enumerables de uno o mÃ¡s objetos fuente a un objeto destino.

Diferentes solicitudes entre GET, POST, PUT, PATCH Y DELETE
-----------------------------------------------------------
ğŸŸ¢GET: Utilizado para recuperar datos del servidor. No modifica datos en el servidor, solo obtiene informaciÃ³n. Ej:

//testExpress.js

app.get("/", (req, res) => {
  res.send("Mi primer servidor con Express. Cursos ğŸ’».");
});

ğŸŸ¢POST: Utilizado para enviar datos al servidor para crear nuevos recursos. Se utiliza para enviar datos que pueden ser procesados y almacenados en el servidor. Ej:

//programacion.js

// POST
routerProgramacion.post("/", (req, res) => {
  let cursoNuevo = req.body;
  programacion.push(cursoNuevo);
  res.send(programacion);
});

##index.http

POST http://localhost:3000/api/cursos/programacion HTTP/1.1
Content-Type: application/json

{
  "id": 4,
  "titulo": "Aprende Node.js",
  "lenguaje": "javascript",
  "vistas": 45676,
  "nivel": "basico"
}

ğŸŸ¢PUT: Utilizado para enviar datos al servidor para actualizar recursos existentes. Reemplaza completamente los datos del recurso con los datos proporcionados. Ej:

//programacion.js

// PUT
routerProgramacion.put("/:id", (req, res) => {
  const cursoActualizado = req.body;
  const id = req.params.id;

  const indice = programacion.findIndex(curso => curso.id == id); 
  
  if(indice >= 0) {
    programacion[indice] = cursoActualizado;
  } else {
    return res
    .status(404)
    .send("Not Found");
  }
  res.send(programacion);
});

##index.http

PUT http://localhost:3000/api/cursos/programacion/2 HTTP/1.1
Content-Type: application/json

{
  "id": 2,
  "titulo": "Python intermedio con proyectos",
  "lenguaje": "python",
  "vistas": 123996,
  "nivel": "intermedio"
}


ğŸŸ¢PATCH: Similar a PUT, pero se utiliza para actualizar parcialmente un recurso existente en lugar de reemplazarlo completamente. Solo actualiza los campos especÃ­ficos proporcionados. Ej:

// PATCH
routerProgramacion.patch("/:id", (req, res) => {
  const infoActualizada = req.body;
  const id = req.params.id;

  const indice = programacion.findIndex(curso => curso.id == id);

  if (indice >= 0) {
    const cursoAModificar = programacion[indice];
    Object.assign(cursoAModificar, infoActualizada);
  } else {
    res.status(400).send("Bad request");
  }
  res.send(programacion);
});

##index.http

PATCH http://localhost:3000/api/cursos/programacion/2 HTTP/1.1
Content-Type: application/json

{
  "titulo": "Python intermedio con proyectos",
  "vistas": 123996
}

ğŸŸ¢DELETE: Utilizado para eliminar recursos existentes en el servidor. Se utiliza para eliminar datos o recursos especÃ­ficos del servidor. Ej:

// DELETE
routerProgramacion.delete("/:id", (req, res) => {
  const id = req.params.id;
  const indice = programacion.findIndex(curso => curso.id == id);
  
  if(indice >= 0) {
    programacion.splice(indice, 1);
  } else {
    res.status(500).send("Internal Server Error");
  }
  res.send(programacion);
});

##index.http

DELETE http://localhost:3000/api/cursos/programacion/1 HTTP/1.1